# Creating a merge commit

````admonish reset title="Reset your progress" collapsible=true
To reset your progress to the start of this chapter, run the following command:

```sh
curl https://jj-for-everyone.github.io/reset.sh | bash -s merge
cd ~/jj-tutorial/repo
```
````

To combine changes from multiple commits, create a **merge commit**. A merge commit has two or more parent commits.

The command `jj commit` actually does two things at once:
- Adds a description to the commit you just finished.
- Starts a new commit on top of it.

Unfortunately it can't create merge commits.

`jj new` is used for merges because it can specify multiple parents.

Create a merge commit from `main@origin` and the previous commit (`@-`):
```sh
jj new main@origin @-
```

The `jj log` graph now shows a new commit with two parents:

<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>    <span class="bold "></span><span class="bold highlighted purple ">t</span><span class="bold highlighted dimgray ">wywpklt</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-07-22 21:26:35</span><span class="bold "> </span><span class="bold highlighted blue ">7</span><span class="bold highlighted dimgray ">64f3651</span><span class="bold "></span>
├─╮  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
│ ○  <span class="bold "></span><span class="bold purple ">z</span><span class="highlighted dimgray ">zywylnt</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-22 21:17:31</span> <span class="purple ">main?? main@git</span> <span class="bold "></span><span class="bold blue ">f8</span><span class="highlighted dimgray ">e44920</span>
│ │  Add Python script for greeting the world
<span class="bold "></span><span class="bold highlighted cyan ">◆</span> │  <span class="bold "></span><span class="bold purple ">q</span><span class="highlighted dimgray ">uolxwkk</span> <span class="yellow ">bob@local</span> <span class="cyan ">2025-07-22 21:22:22</span> <span class="purple ">main?? main@origin</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">8</span><span class="highlighted dimgray ">d538390</span>
├─╯  Document hello.py in README.md
<span class="bold "></span><span class="bold highlighted cyan ">◆</span>  <span class="bold "></span><span class="bold purple ">k</span><span class="highlighted dimgray ">xqyrwux</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-22 21:14:46</span> <span class="bold "></span><span class="bold blue ">ff</span><span class="highlighted dimgray ">df52d0</span>
│  Add project description to readme
~
</pre>

Confirm that the new commit contains the combined changes:
```sh
cat README.md
cat hello.py
```
If changes overlap, Jujutsu creates a **conflict** that you must resolve manually. This is a topic for a later chapter.

Finally, add a description to the merge commit, update the `main` bookmark, and push:
```sh
jj commit -m "Merge code and documentation for hello-world"
jj bookmark move main --to @-
jj git push
```
By default, `jj log` now hides this merge history. To view all commits, use `jj log --revisions 'all()'` or `jj log -r 'all()'`.
