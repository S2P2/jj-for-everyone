# Creating a merge commit

````admonish reset title="Reset your progress" collapsible=true
To reset your progress to the start of this chapter, run the following command:

```sh
curl https://jj-for-everyone.github.io/reset.sh | bash -s merge
cd ~/jj-tutorial/repo
```
````

I've strung you along for long enough, let's finally create that version with the combined changes.

There are actually two approaches to achieve this, one of them we'll see later.
For now, we're going to create a **merge commit**.
As the name implies, a merge commit merges changes from two (or more!) commits.

Until now, we've created new commits with the command `jj commit`.
That command actually does two things at once:
It adds a description to the commit you just finished working on and starts a new commit on top of it.
Unfortunately it can't create merge commits.

There is a slightly more "low-level" command for creating new commits called `jj new`.
It only creates a new commit and doesn't modify any descriptions.
Importantly, it takes a **list of parents** as additional arguments.
This allows us to create a commit with two parents, i.e. a merge commit:

```sh
jj new main@origin @-
```

Let's view the result with `jj log`:

<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>    <span class="bold "></span><span class="bold highlighted purple ">t</span><span class="bold highlighted dimgray ">wywpklt</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-07-22 21:26:35</span><span class="bold "> </span><span class="bold highlighted blue ">7</span><span class="bold highlighted dimgray ">64f3651</span><span class="bold "></span>
├─╮  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
│ ○  <span class="bold "></span><span class="bold purple ">z</span><span class="highlighted dimgray ">zywylnt</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-22 21:17:31</span> <span class="purple ">main?? main@git</span> <span class="bold "></span><span class="bold blue ">f8</span><span class="highlighted dimgray ">e44920</span>
│ │  Add Python script for greeting the world
<span class="bold "></span><span class="bold highlighted cyan ">◆</span> │  <span class="bold "></span><span class="bold purple ">q</span><span class="highlighted dimgray ">uolxwkk</span> <span class="yellow ">bob@local</span> <span class="cyan ">2025-07-22 21:22:22</span> <span class="purple ">main?? main@origin</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">8</span><span class="highlighted dimgray ">d538390</span>
├─╯  Document hello.py in README.md
<span class="bold "></span><span class="bold highlighted cyan ">◆</span>  <span class="bold "></span><span class="bold purple ">k</span><span class="highlighted dimgray ">xqyrwux</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-22 21:14:46</span> <span class="bold "></span><span class="bold blue ">ff</span><span class="highlighted dimgray ">df52d0</span>
│  Add projcet description to readme
~
</pre>

Interesting!
The two parents of the new merge commit are easily visible in the commit graph.
You can confirm that this new commit contains both changes from Alice and Bob:

```sh
cat README.md
cat hello.py
```

Jujutsu tries to be smart about how to combine changes, but not too smart.
Combining changes which modify the same part of the project leads to a **conflict**.
Conflicts are not necessarily bad, they are just a signal that you need to combine some changes manually, making sure to preserve the essence of what each change was trying to achieve individually.
How to resolve conflicts is a topic reserved for the next level.

Let's wrap up this merge commit and send it to the remote:

```sh
jj commit -m "Merge code and documentation for hello-world"
jj bookmark move main --to @-
jj git push
```

Phew!
That was intense.
If you run `jj log` now, the complicated branching and merging will be hidden by default.
Remember that you can reveal it with `jj log --revisions 'all()'`.
