# Restoring file contents

````admonish reset title="Reset your progress" collapsible=true
To reset your progress to the start of this chapter, run the following command:

```sh
curl https://jj-for-everyone.github.io/reset.sh | bash -s restore
cd ~/jj-tutorial/repo
```
````

Let's say Alice accidentally deleted the project's `README.md` file.
After that, she made more changes before realizing her mistake:

```sh
rm README.md
echo "    print('In soviet Russia, world greets you!')" >> hello.py
jj show
```

<!-- generated by aha script -->
<pre class="aha">
Commit ID: <span class="blue ">79cda7b43c273bb0597b7888b2ff9d3afee4a568</span>
Change ID: <span class="purple ">nwstlotvuwrnxrupxnplywqvkloupnxu</span>
Author   : <span class="yellow ">Alice</span> &lt;<span class="yellow ">alice@local</span>&gt; (<span class="cyan ">2025-08-31 16:15:13</span>)
Committer: <span class="yellow ">Alice</span> &lt;<span class="yellow ">alice@local</span>&gt; (<span class="cyan ">2025-08-31 16:15:13</span>)

<span class="yellow ">    (no description set)</span>

<span class="yellow ">Removed regular file README.md:</span>
<span class="red ">   1</span>     : <span class="red "># jj-tutorial</span>
<span class="red ">   2</span>     : <span class="red "></span>
<span class="red ">   3</span>     : <span class="red ">The file hello.py contains a script that greets the world.</span>
<span class="red ">   4</span>     : <span class="red ">It can be executed with the command 'python hello.py'.</span>
<span class="red ">   5</span>     : <span class="red ">Programming is fun!</span>
<span class="red ">   6</span>     : <span class="red "></span>
<span class="red ">   7</span>     : <span class="red ">## Submission</span>
<span class="red ">   8</span>     : <span class="red "></span>
<span class="red ">   9</span>     : <span class="red ">Run the following command to create the submission tarball:</span>
<span class="red ">  10</span>     : <span class="red "></span>
<span class="red ">  11</span>     : <span class="red ">~~~sh</span>
<span class="red ">  12</span>     : <span class="red ">tar czf submission_alice_bob.tar.gz [FILE...]</span>
<span class="red ">  13</span>     : <span class="red ">~~~</span>
<span class="yellow ">Modified regular file hello.py:</span>
<span class="red ">   1</span> <span class="green ">   1</span>: for _ in range(10):
<span class="red ">   2</span> <span class="green ">   2</span>:     print('Hello, world!')
<span class="red ">   3</span> <span class="green ">   3</span>:     print('Hallo, Welt!')
<span class="red ">   4</span> <span class="green ">   4</span>:     print('Bonjour, le monde!')
     <span class="green ">   5</span>: <span class="green ">    print('In soviet Russia, world greets you!')</span>
</pre>

The tools we've learned about so far don't really help in this situation.
Alice could `jj undo` the last snapshot, but that would undo her changes to `hello.py` as well.
The same goes for `jj abandon`.
Luckily, there's a better way:

```sh
jj restore README.md
```

<!-- generated by aha script -->
<pre class="aha">
Commit ID: <span class="blue ">f2922ddd5ad552e1e499b461b8ed900d047cea91</span>
Change ID: <span class="purple ">nwstlotvuwrnxrupxnplywqvkloupnxu</span>
Author   : <span class="yellow ">Alice</span> &lt;<span class="yellow ">alice@local</span>&gt; (<span class="cyan ">2025-08-31 16:15:13</span>)
Committer: <span class="yellow ">Alice</span> &lt;<span class="yellow ">alice@local</span>&gt; (<span class="cyan ">2025-08-31 16:24:18</span>)

<span class="yellow ">    (no description set)</span>

<span class="yellow ">Modified regular file hello.py:</span>
<span class="red ">   1</span> <span class="green ">   1</span>: for _ in range(10):
<span class="red ">   2</span> <span class="green ">   2</span>:     print('Hello, world!')
<span class="red ">   3</span> <span class="green ">   3</span>:     print('Hallo, Welt!')
<span class="red ">   4</span> <span class="green ">   4</span>:     print('Bonjour, le monde!')
     <span class="green ">   5</span>: <span class="green ">    print('In soviet Russia, world greets you!')</span>
</pre>

Perfect, that's just what we wanted!
`jj restore` on its own restores all changed files in your working copy commit.
However, if you give it the names of specific files as additional arguments, it will only restore those.

That's not all though, `jj restore` can do more than that.

We've learned a lot about how to _create_ commits, but not much about what you can do with them.
We can look at the state of our repository at a given commit by running `jj new <change-id>`, but that's about it.

`jj restore` can not only restore files to their state in the parent of the working copy commit.
It can restore them to their state in **any commit**.
You can use the `--from` flag to specify which commit to restore from.

For example, let's restore `hello.py` to the state where it had a functioning loop, but no translations:

```sh
jj restore --from 'description("Fix loop syntax")' hello.py
```

<!-- generated by aha script -->
<pre class="aha">
Commit ID: <span class="blue ">c72f36748528f6893316089590374efed90a4214</span>
Change ID: <span class="purple ">nwstlotvuwrnxrupxnplywqvkloupnxu</span>
Author   : <span class="yellow ">Alice</span> &lt;<span class="yellow ">alice@local</span>&gt; (<span class="cyan ">2025-08-31 16:15:13</span>)
Committer: <span class="yellow ">Alice</span> &lt;<span class="yellow ">alice@local</span>&gt; (<span class="cyan ">2025-08-31 16:43:32</span>)

<span class="yellow ">    (no description set)</span>

<span class="yellow ">Modified regular file hello.py:</span>
<span class="red ">   1</span> <span class="green ">   1</span>: for _ in range(10):
<span class="red ">   2</span> <span class="green ">   2</span>:     print('Hello, world!')
<span class="red ">   3</span>     : <span class="red ">    print('Hallo, Welt!')</span>
<span class="red ">   4</span>     : <span class="red ">    print('Bonjour, le monde!')</span>
</pre>

Fascinating!
As always when we're done with a task, we should remember to push to the remote.

```sh
jj commit -m "Remove translations"
jj bookmark move main --to @-
jj git push
```
