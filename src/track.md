# Tracking remote bookmarks

````admonish reset title="Reset your progress" collapsible=true
To reset your progress to the start of this chapter, run the following command:

```sh
curl https://jj-for-everyone.github.io/reset.sh | bash -s track
cd ~/jj-tutorial/repo
```
````

Alice got herself a new laptop, which she's really excited about.
It's a [framework laptop](https://frame.work/), because Alice has become tired of computer manufacturers making it intentionally difficult for her to fix her own hardware.
Framework also has official support for Linux, which is very important to Alice.
Hardware that respects the user and software that respects the user are a great match, Alice thinks.

Anyway, the point is: Alice doesn't have her repository anymore.
She could've copied it over from her old computer, but since she can just clone the repo again, she didn't do that.
Let's simulate Alice making a fresh clone of the repo:

```sh
cd ~ # move out of the directory we're about to delete
rm -rf ~/jj-tutorial/repo
jj git clone --colocate ~/jj-tutorial/remote ~/jj-tutorial/repo
cd ~/jj-tutorial/repo

# roleplay as Alice
jj config set --repo user.name "Alice"
jj config set --repo user.email "alice@local"
jj metaedit --update-author
```

Let's confirm everything went well with `jj log`:

<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">y</span><span class="bold highlighted dimgray ">uxnowup</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-08-23 20:01:42</span><span class="bold "> </span><span class="bold highlighted blue ">1</span><span class="bold highlighted dimgray ">043cd89</span><span class="bold "></span>
│  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
<span class="bold "></span><span class="bold highlighted cyan ">◆</span>  <span class="bold "></span><span class="bold purple ">w</span><span class="highlighted dimgray ">kywrwmu</span> <span class="yellow ">bob@local</span> <span class="cyan ">2025-08-23 20:01:22</span> <span class="purple ">main</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">3</span><span class="highlighted dimgray ">6c08763</span>
│  Add submission instructions
~
</pre>

Hmm, we've got two problems here.
Firstly, we are missing the commit with the German and French version of "Hello, world!"
We actually never pushed that commit, so it only exists on Alice's old laptop...
Unfortunately, that's now gone forever.
The only thing we can do now is to recreate it:

```sh
echo "print('Hallo, Welt!')" >> hello.py
echo "print('Bonjour, le monde!')" >> hello.py
jj commit -m "Print German and French grettings as well"
```

Take that as a reminder to always push your commits!
The remote doesn't work as a backup solution if you forget to push.
We can push this commit directly to the `main` bookmark:

```sh
jj bookmark move main -t @-
jj git push
```

The second problem is that we're missing the commit with the loop-experiment.
That one isn't actually lost, because we did push it to the remote (with an auto-generated bookmark).
It's just hidden by default, but we can find it with `jj log --revisions 'all()'`:

<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">n</span><span class="bold highlighted dimgray ">kvmznqz</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-08-23 21:18:57</span><span class="bold "> </span><span class="bold highlighted blue ">e</span><span class="bold highlighted dimgray ">579e9a8</span><span class="bold "></span>
│  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
<span class="bold "></span><span class="bold highlighted cyan ">◆</span>  <span class="bold "></span><span class="bold purple ">v</span><span class="highlighted dimgray ">mztslml</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-23 21:18:57</span> <span class="purple ">main</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">a</span><span class="highlighted dimgray ">928e18a</span>
│  Print German and French grettings as well
<span class="bold "></span><span class="bold highlighted cyan ">◆</span>  <span class="bold "></span><span class="bold purple ">vw</span><span class="highlighted dimgray ">kzzxum</span> <span class="yellow ">bob@local</span> <span class="cyan ">2025-08-23 21:18:20</span> <span class="bold "></span><span class="bold blue ">7</span><span class="highlighted dimgray ">a76ce52</span>
│  Add submission instructions
│ <span class="bold "></span><span class="bold highlighted cyan ">◆</span>  <span class="bold "></span><span class="bold purple ">zk</span><span class="highlighted dimgray ">wmvzlq</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-23 21:18:20</span> <span class="purple ">push-zkwmvzlqluot@origin</span> <span class="bold "></span><span class="bold blue ">a7</span><span class="highlighted dimgray ">cd6be9</span>
├─╯  WIP: Add for loop (need to fix syntax)
<span class="bold "></span><span class="bold highlighted cyan ">◆</span>    <span class="bold "></span><span class="bold purple ">pq</span><span class="highlighted dimgray ">oyoror</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-23 21:18:20</span> <span class="bold "></span><span class="bold blue ">94</span><span class="highlighted dimgray ">608da3</span>
├─╮  <span class="green ">(empty)</span> Merge code and documentation for hello-world
│ <span class="bold "></span><span class="bold highlighted cyan ">◆</span>  <span class="bold "></span><span class="bold purple ">o</span><span class="highlighted dimgray ">wrwuqyr</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-23 21:18:20</span> <span class="bold "></span><span class="bold blue ">22</span><span class="highlighted dimgray ">f32788</span>
│ │  Add Python script for greeting the world
<span class="bold "></span><span class="bold highlighted cyan ">◆</span> │  <span class="bold "></span><span class="bold purple ">vp</span><span class="highlighted dimgray ">zorutw</span> <span class="yellow ">bob@local</span> <span class="cyan ">2025-08-23 21:18:20</span> <span class="bold "></span><span class="bold blue ">91</span><span class="highlighted dimgray ">48e791</span>
├─╯  Document hello.py in README.md
<span class="bold "></span><span class="bold highlighted cyan ">◆</span>  <span class="bold "></span><span class="bold purple ">pk</span><span class="highlighted dimgray ">poursq</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-23 21:18:20</span> <span class="bold "></span><span class="bold blue ">02</span><span class="highlighted dimgray ">f136e2</span>
│  Add project description to readme
<span class="bold "></span><span class="bold highlighted cyan ">◆</span>  <span class="bold "></span><span class="bold purple ">t</span><span class="highlighted dimgray ">kpkmszl</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-23 21:18:20</span> <span class="bold "></span><span class="bold blue ">6</span><span class="highlighted dimgray ">6c2503f</span>
│  Add readme with project title
<span class="bold "></span><span class="bold highlighted cyan ">◆</span>  <span class="bold "></span><span class="bold purple ">zz</span><span class="highlighted dimgray ">zzzzzz</span> <span class="green ">root()</span> <span class="bold "></span><span class="bold blue ">00</span><span class="highlighted dimgray ">000000</span>
</pre>

There it is.
The bookmark that points to the loop-experiment commit is displayed as `push-zkwmvzlqluot@origin`.
But what's up with `@origin`?
That wasn't there before.

## Bookmark tracking

Jujutsu has a concept of bookmarks being **tracked** or **untracked**.
If a bookmark is tracked, Jujutsu will try to keep its local and remote version in sync when you run `jj git push`.
When you create a new bookmark and push it to the remote, it automatically becomes tracked.
That's why we didn't have to worry about tracking until now.

However, when you clone a repository, only the `main` bookmark will automatically become tracked.
All other bookmarks that exist on the remote remain untracked by default.
This is useful, because you may be working together with many other people on a project.
You are usually not interested in the work-in-progress of your peers.
Their bookmarks not being tracked by default also prevents you from accidentally pushing your own commits to their bookmarks.

That being said, `push-zkwmvzlqluot` is not someone else's bookmark, it's Alice's.
She would like the bookmark to be tracked so she can see it by default in the log and so she can update and push it later.
The command to do that is:

```sh
jj bookmark track push-zkwmvzlqluot@origin
```

Now, a regular `jj log` will show the bookmark again:

<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">n</span><span class="bold highlighted dimgray ">kvmznqz</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-08-23 21:18:57</span><span class="bold "> </span><span class="bold highlighted blue ">e</span><span class="bold highlighted dimgray ">579e9a8</span><span class="bold "></span>
│  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
<span class="bold "></span><span class="bold highlighted cyan ">◆</span>  <span class="bold "></span><span class="bold purple ">v</span><span class="highlighted dimgray ">mztslml</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-23 21:18:57</span> <span class="purple ">main</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">a9</span><span class="highlighted dimgray ">28e18a</span>
│  Print German and French grettings as well
<span class="highlighted dimgray ">~</span>  <span class="highlighted dimgray ">(elided revisions)</span>
│ ○  <span class="bold "></span><span class="bold purple ">z</span><span class="highlighted dimgray ">kwmvzlq</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-23 21:18:20</span> <span class="purple ">push-zkwmvzlqluot</span> <span class="bold "></span><span class="bold blue ">a7</span><span class="highlighted dimgray ">cd6be9</span>
├─╯  WIP: Add for loop (need to fix syntax)
<span class="bold "></span><span class="bold highlighted cyan ">◆</span>  <span class="bold "></span><span class="bold purple ">p</span><span class="highlighted dimgray ">qoyoror</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-23 21:18:20</span> <span class="bold "></span><span class="bold blue ">9</span><span class="highlighted dimgray ">4608da3</span>
│  <span class="green ">(empty)</span> Merge code and documentation for hello-world
~
</pre>
